# **–ü–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã**  

### **–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**  
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç           | –°–µ—Ä–≤–µ—Ä          | –û–ø–∏—Å–∞–Ω–∏–µ                  |  
|---------------------|----------------|---------------------------|  
| VPN + PKI           | 10.10.3.82     | –û–±—ä–µ–¥–∏–Ω—ë–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã      |  
| –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥          | 10.12.0.220    | Prometheus + Alertmanager |  
| –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ | 10.11.0.145   | Rsync + –ª–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ |  

---

### **1. –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ VPN –∏ PKI**  
**–ü—Ä–æ–±–ª–µ–º–∞**: –†–∏—Å–∫ –∫–æ–º–ø—Ä–æ–º–µ—Ç–∞—Ü–∏–∏ –∫–æ—Ä–Ω–µ–≤–æ–≥–æ CA –ø—Ä–∏ –∞—Ç–∞–∫–µ –Ω–∞ VPN.  
**–†–µ—à–µ–Ω–∏–µ**:  
```mermaid
graph LR
  A[VPN-—Å–µ—Ä–≤–µ—Ä] -->|–ó–∞–ø—Ä–æ—Å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤| B[–í—ã–¥–µ–ª–µ–Ω–Ω—ã–π PKI-—Å–µ—Ä–≤–µ—Ä]
  B -->|–ü–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã| A
```  
**–ó–∞–¥–∞—á–∏**:  
1. –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –Ω–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä –¥–ª—è PKI (10.10.3.83)  
2. –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ Easy-RSA —Å —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ–º –¥–∏—Å–∫–∞ (LUKS)  
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –ø–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å–µ—Ç–∏  

**–°—Ä–æ–∫**: 4 –Ω–µ–¥–µ–ª–∏  

---

### **2. –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ Infrastructure as Code**  
**–ü—Ä–æ–±–ª–µ–º–∞**: –†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º–∏.  
**–†–µ—à–µ–Ω–∏–µ**:  
```bash
terraform {
  required_providers {
    proxmox = {
      source = "telmate/proxmox"
    }
  }
}

resource "proxmox_vm_qemu" "vpn_server" {
  name        = "vpn-prod"
  target_node = "pve01"
  clone       = "ubuntu-2204-template"
  ipconfig0   = "ip=10.10.3.82/24,gw=10.10.3.1"
}
```  
**–ó–∞–¥–∞—á–∏**:  
1. –ù–∞–ø–∏—Å–∞—Ç—å Terraform-–∫–æ–Ω—Ñ–∏–≥–∏ –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤  
2. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ Ansible-–ø–ª–µ–π–±—É–∫–∞–º–∏  
3. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å GitLab CI/CD  

**–°—Ä–æ–∫**: 4 –Ω–µ–¥–µ–ª–∏  

---

### **3. –£–ª—É—á—à–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –±—ç–∫–∞–ø–æ–≤**  

## –í–Ω–µ–¥—Ä–µ–Ω–∏–µ BorgBackup  
**–¶–µ–ª—å**: –ü–æ–≤—ã—à–µ–Ω–∏–µ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –±—ç–∫–∞–ø–æ–≤ –∑–∞ —Å—á–µ—Ç –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏ –∏ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è.  

**–ó–∞–¥–∞—á–∏**:  
‚úÖ –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å BorgBackup –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ 10.11.0.145  
‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –±—ç–∫–∞–ø—ã –∫–ª—é—á–µ–≤—ã—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π (`/etc`, `/home`, `/var/log`)  
‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ Prometheus (–º–µ—Ç—Ä–∏–∫–∏ –≤—Ä–µ–º–µ–Ω–∏ –∏ —Ä–∞–∑–º–µ—Ä–∞ –±—ç–∫–∞–ø–æ–≤)  
‚úÖ –î–æ–±–∞–≤–∏—Ç—å –∞–ª–µ—Ä—Ç –ø—Ä–∏ –ø—Ä–æ–ø—É—Å–∫–µ –±—ç–∫–∞–ø–∞ >24 —á–∞—Å–∞  

**–°—Ä–æ–∫**: 2 –Ω–µ–¥–µ–ª—è  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üî¥ High  
**–†–µ–∑—É–ª—å—Ç–∞—Ç**:  
- –°–Ω–∏–∂–µ–Ω–∏–µ –∑–∞–Ω–∏–º–∞–µ–º–æ–≥–æ –º–µ—Å—Ç–∞ –Ω–∞ 50-80%  
- –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö AES-256  
- –ü—Ä–æ—Å—Ç–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –∫–æ–º–∞–Ω–¥–æ–π `borg extract`  

**–ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã**:  
- –°–∫—Ä–∏–ø—Ç—ã: `/opt/borg_backup.sh`, `/opt/borg_metrics.sh`  
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ `BACKUP_GUIDE.md` –∏ `ADMIN_GUIDE.md`  

--- 

```mermaid  
gantt  
    title –≠—Ç–∞–ø—ã –≤–Ω–µ–¥—Ä–µ–Ω–∏—è BorgBackup  
    dateFormat  YYYY-MM-DD  
    section –ù–∞—Å—Ç—Ä–æ–π–∫–∞  
    –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Borg      :done, 2024-10-01, 1d  
    –ù–∞–ø–∏—Å–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤  :done, 2024-10-02, 2d  
    –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ        :active, 2024-10-04, 2d  
    section –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è  
    –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥          :2024-10-06, 1d  
    –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è        :2024-10-07, 1d  
``` 

**–°—Ä–æ–∫**: 4 –Ω–µ–¥–µ–ª–∏  

---

### **4. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–ª–µ—Ä—Ç–∏–Ω–≥**  
**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ—Ç SLA –ø–æ –≤—Ä–µ–º–µ–Ω–∏ —Ä–µ–∞–∫—Ü–∏–∏.  
**–£–ª—É—á—à–µ–Ω–∏—è**:  
| –ú–µ—Ç—Ä–∏–∫–∞               | –ü–æ—Ä–æ–≥          | –ö–∞–Ω–∞–ª –æ–ø–æ–≤–µ—â–µ–Ω–∏—è |  
|-----------------------|---------------|------------------|  
| –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å VPN       | <99.9% –∑–∞ —Å—É—Ç–∫–∏ | Telegram + PagerDuty |  
| –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è CA      | <30 –¥–Ω–µ–π      | Email             |  
| –ú–µ—Å—Ç–æ –Ω–∞ –±—ç–∫–∞–ø–∞—Ö      | <10% —Å–≤–æ–±–æ–¥–Ω–æ | SMS               |  

**–ó–∞–¥–∞—á–∏**:  
1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —ç—Å–∫–∞–ª–∞—Ü–∏—é –∞–ª–µ—Ä—Ç–æ–≤ –≤ Alertmanager  
2. –î–æ–±–∞–≤–∏—Ç—å –¥–∞—à–±–æ—Ä–¥—ã –≤ Grafana —Å SLA-–≤–∏–¥–∂–µ—Ç–∞–º–∏  

**–°—Ä–æ–∫**: 4 –Ω–µ–¥–µ–ª–∏  

---

### **5. –ü–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è (Roadmap)**  
| –ß—Ç–æ –¥–µ–ª–∞–µ–º            | –¶–µ–ª—å                                         | –°—Ä–æ–∫       | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |  
|-----------------------|---------------------------------------------|------------|-----------|  
| –í—ã–¥–µ–ª–µ–Ω–Ω—ã–π PKI        | –ò–∑–æ–ª–∏—Ä–æ–≤–∞—Ç—å –∫–æ—Ä–Ω–µ–≤—ã–µ –∫–ª—é—á–∏                  | 2025-Q3    | High      |  
| Terraform + Ansible   | –£–º–µ–Ω—å—à–∏—Ç—å –≤—Ä–µ–º—è —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è               | 2025-Q3    | Critical  |  
| –ì–µ–æ-–±—ç–∫–∞–ø—ã           | –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ RPO=15 –º–∏–Ω, RTO=1 —á–∞—Å          | 2025-Q4   | Medium    |  
| –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ SLA        | –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å 99.95% uptime VPN             | 2025-Q4    | High      |  

---

